# 🤖 AI智能游戏平台 - 完整项目指南

## 📋 项目概述

这是一个基于大模型驱动的智能游戏平台，包含三个核心AI游戏：
- 🎭 **AI剧本杀主持人**：AI生成剧本，扮演所有NPC角色
- 🕵️ **AI推理侦探游戏**：AI创建案件，扮演嫌疑人，用户进行推理
- 🐺 **AI狼人杀法官**：AI扮演法官和玩家，用户参与完整游戏

## 🎯 核心特色

### AI深度集成
- 每个游戏都大量使用AI生成内容和角色扮演
- AI角色具有记忆和一致的性格特征
- 游戏内容随机生成，每次体验都不同

### 完整游戏循环
- 自动游戏推进，无需用户手动控制
- AI角色自主行动和互动
- 沉浸式的游戏体验

## 🚀 快速启动

### 环境要求
- Python 3.8+
- Flask 框架
- OpenRouter 或 DashScope API Key

### 启动命令
```bash
cd ai_assistant_platform
python start.py
```

### 配置API
1. 访问 `/config` 页面
2. 选择平台（OpenRouter 或 DashScope）
3. 输入API密钥并测试连接

## 🎮 游戏设计原理

### 用户角色定位
- 用户是**参与者**，不是控制者
- AI驱动游戏进程，用户响应和互动
- 强调沉浸式体验，而非工具使用

### AI角色系统
- 每个AI角色都有独特性格和记忆
- 角色间可以互动和影响
- 动态的对话和行为生成

### 游戏状态管理
- 完整的状态机设计
- 自动阶段转换
- 实时状态同步

## 📁 项目结构

```
ai_assistant_platform/
├── app.py              # Flask主应用
├── config.py           # 配置管理
├── start.py           # 启动脚本
├── requirements.txt    # 依赖包
├── services/          # 服务层
│   ├── ai_service.py     # AI服务封装
│   ├── game_service.py   # 游戏逻辑服务
│   └── ...
├── templates/         # 前端模板
│   ├── games/           # 游戏界面
│   └── ...
├── static/           # 静态资源
├── utils/            # 工具类
├── prompts/          # AI提示词
└── data/             # 数据存储
```

## 🔧 技术架构

### 后端技术栈
- **Flask**: Web框架
- **SQLite**: 数据存储
- **OpenRouter/DashScope**: AI模型接口

### 前端技术栈
- **TailwindCSS**: 样式框架
- **Vanilla JavaScript**: 交互逻辑
- **WebSocket/SSE**: 实时通信

### AI集成
- 多平台模型支持
- 智能提示词管理
- 角色记忆系统

## 🎯 游戏详细设计

### 🎭 AI剧本杀主持人

**游戏流程**：
1. AI随机生成剧本（校园、古风、现代等多种题材）
2. 自动分配角色给用户（用户只知道自己角色）
3. AI扮演其他5个NPC，每个都有独特性格
4. 分阶段进行：介绍→讨论→调查→推理→结果

**AI角色扮演**：
- 每个NPC都有完整背景故事和秘密
- 保持角色一致性，记住对话历史
- 根据剧本逻辑给出合理回应

### 🕵️ AI推理侦探游戏

**游戏流程**：
1. AI生成随机案件（谋杀、盗窃、诈骗等）
2. 创建3-5个嫌疑人，每个都有动机
3. 用户可以审讯、分析证据、搜查现场
4. 最终推理并揭晓真相

**AI嫌疑人系统**：
- 每个嫌疑人有不同性格和说话风格
- 会隐瞒真相但不会完全说谎
- 根据审讯压力调整回答策略

### 🐺 AI狼人杀法官

**游戏流程**：
1. 用户获得随机身份（村民、预言家、女巫等）
2. AI扮演法官和其他所有玩家
3. 完整昼夜循环：夜晚行动→白天讨论→投票
4. AI玩家有不同策略和表现风格

**AI玩家行为**：
- 根据身份执行合理策略
- 模拟真实玩家的发言和投票
- 动态调整策略应对局面变化

## 🔐 安全和隐私

- 所有游戏数据本地存储
- API密钥加密保存
- 用户对话记录可选删除

## 🚧 开发状态

当前版本：**2.0** (完全重构版)

**已完成**：
- ✅ 项目架构重构
- ✅ AI服务集成
- ✅ 基础游戏框架

**开发中**：
- 🔄 完整游戏逻辑实现
- 🔄 AI角色记忆系统
- 🔄 实时游戏更新

## 📞 支持和反馈

如遇问题或有建议，请通过以下方式联系：
- 查看控制台日志
- 检查API配置
- 确认网络连接

---

*最后更新：2024年12月*