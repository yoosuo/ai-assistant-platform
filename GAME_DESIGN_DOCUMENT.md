# 🎮 AI智能游戏设计文档

## 核心原则
**用大模型生成随机、实时的内容，不是预设固定内容！**

---

## 1. 🎭 AI剧本杀主持人游戏

### 游戏概念
- **玩家**：扮演一个角色
- **AI**：扮演其他所有角色和主持人
- **目标**：通过调查、询问、推理找出真凶
- **AI主持人**：控制游戏节奏和线索发布

### 游戏流程
```
📋 游戏开始
├─ 1. 进入游戏页面
├─ 2. **AI实时生成剧本**（背景、角色、案件）
├─ 3. **AI随机分配玩家角色**（身份、背景、秘密）
├─ 4. 显示剧本介绍和角色信息

🎯 调查阶段
├─ 5. 玩家可执行动作：
│   ├─ 🔍 调查现场/地点 → **AI实时生成调查结果**
│   ├─ 💬 询问其他角色 → **AI角色实时回答（有个性差异）**
│   ├─ 🧠 分析线索 → **AI实时分析反馈**
│   └─ 📝 记录推理

⚖️ 推理阶段  
├─ 6. 玩家提交指控
├─ 7. **AI主持人实时判定结果**
└─ 8. 游戏结束，显示真相和评分
```

### 页面界面设计
```
🎭 AI剧本杀界面
┌─────────────────────────────────────┐
│ 🎭 AI剧本杀主持人    返回主页 | 游戏ID │
├─────────────────────────────────────┤
│ 📜 剧情消息区域 (占据大部分空间)        │
│ - 主持人介绍                         │
│ - 角色对话                           │
│ - 调查结果                           │
│ - 线索发现                           │
├─────────────────────────────────────┤
│ 🎮 操作面板                         │
│ [🔍 调查现场] [💬 询问角色]           │
│ [🧠 分析线索] [⚖️ 指控真凶]          │
├─────────────────────────────────────┤
│ 📊 右侧边栏                         │
│ - 当前角色信息                       │
│ - 发现线索计数                       │
│ - 游戏进度                           │
│ - 快速操作                           │
└─────────────────────────────────────┘
```

### 核心按钮功能（AI驱动）
- **🔍 调查现场** → 选择地点 → **AI实时生成发现内容**
- **💬 询问角色** → 选择角色+问题 → **AI角色实时回答（基于个性）**  
- **🧠 分析线索** → 输入推理 → **AI实时给出分析反馈**
- **⚖️ 指控真凶** → 选择嫌疑人+推理过程 → **AI实时判定结案**

---

## 2. 🔍 AI推理侦探游戏

### 游戏概念
- **玩家**：侦探
- **AI**：生成案件和扮演嫌疑人
- **目标**：通过审讯、证据分析找出真凶
- **AI系统**：专业的法医分析和警官评价

### 游戏流程
```
📋 案件生成
├─ 1. 进入游戏
├─ 2. **AI实时生成随机案件**（受害者、地点、时间）
├─ 3. **AI生成3-5个嫌疑人**（背景、动机、不在场证明）
├─ 4. **AI准备5-8个证据线索**

🕵️ 调查阶段
├─ 5. 审讯嫌疑人：
│   ├─ 选择嫌疑人
│   ├─ 输入问题
│   └─ **AI嫌疑人实时回答**（有隐瞒、可能露破绽）
├─ 6. 分析证据：
│   ├─ 选择证据
│   ├─ **AI法医实时专业分析**
│   └─ 更新线索计数

⚖️ 结案阶段
├─ 7. 提交推理结论：
│   ├─ 指控嫌疑人
│   ├─ 详细推理过程
│   └─ **AI警官实时评价和打分**
└─ 8. 显示正确答案和得分
```

### 页面界面设计
```
🔍 AI推理侦探界面
┌─────────────────────────────────────┐
│ 🔍 AI推理侦探    返回主页 | 案件ID    │
├─────────────────────────────────────┤
│ 📜 案件消息区域 (最大区域)            │
│ - 案件档案                           │
│ - 审讯对话                           │
│ - 法医分析                           │
│ - 警官评价                           │
├─────────────────────────────────────┤
│ 🕵️ 审讯面板    │ 🔬 证据分析面板     │
│ [选择嫌疑人▼]   │ [选择证据▼]        │
│ [问题输入框]     │ [分析证据按钮]      │
│ [开始审讯]       │ [查看所有证据]      │
├─────────────────────────────────────┤
│ ⚖️ 推理结论面板                     │
│ [指控嫌疑人▼] [提交结论按钮]          │
│ [推理过程输入框（大）]                │
├─────────────────────────────────────┤
│ 📊 右侧边栏                         │
│ - 调查进度                           │
│ - 嫌疑人档案                         │
│ - 快速操作                           │
│ - 调查提示                           │
└─────────────────────────────────────┘
```

### 核心按钮功能（AI驱动）
- **审讯嫌疑人** → 选择人员+问题 → **AI角色实时回答**
- **分析证据** → 选择证据 → **AI法医实时分析**
- **提交结论** → 指控+推理 → **AI警官实时评价打分**
- **查看档案** → 显示案件和嫌疑人信息

---

## 3. 🐺 AI狼人杀法官游戏

### 游戏概念
- **玩家**：参与狼人杀
- **AI**：扮演法官和其他玩家
- **核心**：完整的昼夜循环，AI自动执行夜晚行动
- **玩家参与**：白天讨论和投票

### 游戏流程
```
📋 游戏设置
├─ 1. 进入游戏
├─ 2. 选择玩家数量（6/8/10/12人）
├─ 3. **AI随机分配角色**（狼人、村民、预言家、女巫等）
├─ 4. 显示玩家角色，隐藏其他身份

🌙 夜晚阶段（AI自动）
├─ 5. 狼人行动：
│   ├─ **AI狼人实时讨论选择猎物**
│   └─ 确定击杀目标
├─ 6. 神职行动：
│   ├─ **AI预言家实时验人**
│   ├─ **AI女巫实时救人/毒人**
│   └─ 其他神职技能

☀️ 白天阶段（玩家参与）
├─ 7. 显示夜晚结果（死亡情况）
├─ 8. 发言讨论：
│   ├─ 玩家发言
│   ├─ **AI玩家实时发言**（根据身份和信息）
│   └─ 相互质疑
├─ 9. 投票阶段：
│   ├─ 玩家投票
│   ├─ **AI玩家实时投票**
│   └─ 统计结果，淘汰玩家

🏆 胜负判定
├─ 10. 检查胜利条件：
│    ├─ 狼人被全部淘汰 → 好人胜利
│    ├─ 狼人数≥好人数 → 狼人胜利
│    └─ 继续下一轮
└─ 11. 游戏结束，显示身份和评价
```

### 页面界面设计
```
🐺 AI狼人杀界面
┌─────────────────────────────────────┐
│ 🐺 AI狼人杀法官  返回主页 | 房间ID    │
├─────────────────────────────────────┤
│ 🌙/☀️ 阶段提示栏 | 第X天 | 存活X人  │
├─────────────────────────────────────┤
│ 📜 游戏消息区域 (主要区域)            │
│ - 法官宣布                           │
│ - 玩家发言                           │
│ - AI玩家发言                         │
│ - 投票结果                           │
├─────────────────────────────────────┤
│ 🗣️ 白天发言面板（白天显示）          │
│ [发言内容输入框]                     │
│ [发言按钮] [结束发言]                │
├─────────────────────────────────────┤
│ 🗳️ 投票面板（投票阶段显示）          │
│ [选择投票目标▼] [确认投票]           │
│ [当前投票情况显示]                    │
├─────────────────────────────────────┤
│ 📊 右侧边栏                         │
│ - 我的角色信息                       │
│ - 存活玩家列表                       │
│ - 游戏进度                           │
│ - 历史投票记录                       │
└─────────────────────────────────────┘
```

### 核心按钮功能（AI驱动）
- **发言** → 输入内容 → 参与讨论
- **投票** → 选择目标 → 参与投票决定
- **查看身份** → 显示自己角色和技能
- **查看记录** → 历史发言和投票情况

---

## 🔧 实现重点

### AI大模型应用要求
1. **实时生成** - 所有内容都通过大模型实时生成，不使用预设模板
2. **角色一致性** - AI角色要保持人格和立场的一致性
3. **随机性** - 每次游戏都有不同的剧本、案件、角色分配
4. **智能交互** - AI要能理解玩家意图并智能回应

### 技术实现
1. **状态管理** - 复杂的游戏状态实时更新
2. **AI记忆** - 角色要记住之前的对话和行动
3. **多角色管理** - 同时管理多个AI角色
4. **实时响应** - 流畅的游戏体验

### 优先级
1. **🔍 推理侦探** - ✅ 已完成
2. **🎭 剧本杀** - 需要加强AI实时生成
3. **🐺 狼人杀** - 需要完全重构，实现昼夜循环和AI自动行动